FROM node:21-alpine
ENV TZ=Asia/Bangkok
ENV NODE_ENV=production
ENV APP_VERSION=1.00
ENV NUXT_PUBLIC_API_KEY="AIzaSyB_X4LcIBDshWj6XABeQOTUOFl4rZGysUI",
ENV NUXT_PUBLIC_AUTH_DOMAIN="data-ai-day.firebaseapp.com",
ENV NUXT_PUBLIC_PROJECT_ID="data-ai-day",
ENV NUXT_PUBLIC_STORAGE_BUCKET="data-ai-day.firebasestorage.app",
ENV NUXT_PUBLIC_MESSAGING_SENDER_ID="975433419043",
ENV NUXT_PUBLIC_APP_ID="1:975433419043:web:cafcb3aeb5833531366496"
ENV NUXT_PUBLIC_LINE_LIFF_ID="2008296196-401JNyOe"
WORKDIR /usr/src/app
# COPY package.json ./
COPY . ./
RUN npm install -g pnpm
RUN pnpm install

ENV HOST=0.0.0.0
ENV PORT=8080

RUN pnpm build

CMD [ "pnpm", "start" ]
